"use strict";exports.id=342,exports.ids=[342],exports.modules={30905:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(15988).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},90342:(a,b,c)=>{c.d(b,{s:()=>r});var d=c(12076),e=c(4885),f=c(15988);let g=(0,f.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=c(30905),i=c(51975),j=c(89036);let k=(0,f.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),l=(0,f.A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),m=(0,f.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),n=(0,f.A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),o=(0,f.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),p=(0,f.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);function q({video:a,className:b,autoPlay:c=!1,loop:f=!0,controls:g=!0,onEnded:h}){let q=(0,e.useRef)(null),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!0),[v,w]=(0,e.useState)(0),[x,y]=(0,e.useState)(0),[z,A]=(0,e.useState)(!0),[B,C]=(0,e.useState)(!0),[D,E]=(0,e.useState)(!1),F=(0,e.useRef)(null),G=()=>{let a=q.current;a&&(r?a.pause():a.play().catch(console.error))},H=a=>{let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`},I=x>0?v/x*100:0;return(0,d.jsxs)("div",{className:(0,i.cn)("relative bg-black rounded-lg overflow-hidden group w-full h-full",b),onMouseMove:()=>{g&&F.current&&(clearTimeout(F.current),A(!0),r&&(F.current=setTimeout(()=>{A(!1)},3e3)))},children:[(0,d.jsx)("video",{ref:q,src:a.src,className:"w-full h-full object-contain",autoPlay:c,loop:f,muted:t,playsInline:!0,style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%"}}),B&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,d.jsx)("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),D&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)("div",{className:"text-lg mb-2",children:"视频加载失败"}),(0,d.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{E(!1),C(!0),q.current?.load()},children:"重试"})]})}),!B&&!D&&!r&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:G,className:"w-16 h-16 bg-black/50 hover:bg-black/70 text-white rounded-full",children:(0,d.jsx)(k,{className:"w-8 h-8 ml-1"})})}),g&&!B&&!D&&(0,d.jsxs)("div",{className:(0,i.cn)("absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300",z?"opacity-100":"opacity-0 group-hover:opacity-100"),children:[(0,d.jsx)("div",{className:"w-full h-1 bg-white/30 rounded-full cursor-pointer mb-3",onClick:a=>{let b=q.current;if(!b||!x)return;let c=a.currentTarget.getBoundingClientRect(),d=(a.clientX-c.left)/c.width*x;b.currentTime=d,w(d)},children:(0,d.jsx)("div",{className:"h-full bg-primary rounded-full transition-all duration-150",style:{width:`${I}%`}})}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:G,className:"text-white hover:bg-white/20",children:r?(0,d.jsx)(l,{className:"w-5 h-5"}):(0,d.jsx)(k,{className:"w-5 h-5"})}),(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{let a=q.current;a&&(a.currentTime=0,w(0),r||a.play().catch(console.error))},className:"text-white hover:bg-white/20",children:(0,d.jsx)(m,{className:"w-4 h-4"})}),(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{let a=q.current;if(!a)return;let b=!t;a.muted=b,u(b)},className:"text-white hover:bg-white/20",children:t?(0,d.jsx)(n,{className:"w-5 h-5"}):(0,d.jsx)(o,{className:"w-5 h-5"})}),(0,d.jsxs)("span",{className:"text-white text-sm",children:[H(v)," / ",H(x)]})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{document.fullscreenElement?document.exitFullscreen().catch(console.error):q.current?.requestFullscreen().catch(console.error)},className:"text-white hover:bg-white/20",children:(0,d.jsx)(p,{className:"w-5 h-5"})})})]})]})]})}function r({videos:a,className:b,onCurrentChange:c,autoPlay:f=!1,showThumbnails:k=!0}){let[l,m]=(0,e.useState)(0),n=a=>{m(a)};if(0===a.length)return(0,d.jsx)("div",{className:(0,i.cn)("flex items-center justify-center bg-gray-900 rounded-lg",b),children:(0,d.jsxs)("div",{className:"text-center text-gray-400 space-y-4",children:[(0,d.jsx)("div",{className:"w-24 h-24 bg-gray-700 rounded-lg flex items-center justify-center mx-auto",children:(0,d.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.01M15 10h1.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,d.jsx)("p",{className:"text-sm",children:"暂无视频"})]})});let o=a[l];return(0,d.jsxs)("div",{className:(0,i.cn)("flex flex-col space-y-4 h-full",b),children:[(0,d.jsxs)("div",{className:"relative flex-1 min-h-0",children:[(0,d.jsx)(q,{video:o,className:"w-full h-full max-h-full",autoPlay:f,controls:!0}),a.length>1&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{m(b=>b>0?b-1:a.length-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)(g,{className:"w-5 h-5"})}),(0,d.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{m(b=>b<a.length-1?b+1:0)},className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)(h.A,{className:"w-5 h-5"})})]}),a.length>1&&(0,d.jsxs)("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[l+1," / ",a.length]})]}),k&&a.length>1&&(0,d.jsx)("div",{className:"flex gap-2 justify-center overflow-x-auto pb-2",children:a.map((a,b)=>(0,d.jsx)("button",{onClick:()=>n(b),className:(0,i.cn)("flex-shrink-0 w-20 h-12 bg-gray-800 rounded border-2 overflow-hidden transition-all",l===b?"border-primary scale-105":"border-gray-600 hover:border-gray-400"),children:(0,d.jsx)("video",{src:a.src,className:"w-full h-full object-cover",muted:!0,preload:"metadata"})},a.id))}),!k&&a.length>1&&(0,d.jsx)("div",{className:"flex justify-center gap-2",children:a.map((a,b)=>(0,d.jsx)("button",{onClick:()=>n(b),className:(0,i.cn)("w-2 h-2 rounded-full transition-all",l===b?"bg-primary":"bg-gray-600 hover:bg-gray-400")},b))})]})}}};