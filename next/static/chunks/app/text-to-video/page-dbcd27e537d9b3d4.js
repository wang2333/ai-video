(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{1915:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},2065:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3816:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},4360:(e,a,t)=>{"use strict";t.d(a,{T:()=>r});var l=t(8045);t(5177);var s=t(6389);function r(e){let{className:a,...t}=e;return(0,l.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...t})}},5376:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},5717:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>A});var l=t(8045),s=t(5177),r=t(7694),i=t(8247),c=t(2065),n=t(6445),d=t(1574),o=t(6686),h=t(8365),x=t(6389),m=t(2989),u=t(4360),v=t(9062),b=t(8225),p=t(4310),g=t(7803),y=t(3677),f=t(7148);let j={"480P":[{value:"832*480",label:"832\xd7480",ratio:"16:9"},{value:"480*832",label:"480\xd7832",ratio:"9:16"},{value:"624*624",label:"624\xd7624",ratio:"1:1"}],"720P":[{value:"1280*720",label:"1280\xd7720",ratio:"16:9"},{value:"720*1280",label:"720\xd71280",ratio:"9:16"},{value:"960*960",label:"960\xd7960",ratio:"1:1"},{value:"1088*832",label:"1088\xd7832",ratio:"4:3"},{value:"832*1088",label:"832\xd71088",ratio:"3:4"}],"1080P":[{value:"1920*1080",label:"1920\xd71080",ratio:"16:9"},{value:"1080*1920",label:"1080\xd71920",ratio:"9:16"},{value:"1440*1440",label:"1440\xd71440",ratio:"1:1"},{value:"1632*1248",label:"1632\xd71248",ratio:"4:3"},{value:"1248*1632",label:"1248\xd71632",ratio:"3:4"}]},N=[{value:"wanx2.1-t2v-turbo",label:"通义万相2.1-turbo",description:"万相2.1极速版",icon:"/image/Group.svg",qualityLevels:["480P","720P"]},{value:"wanx2.1-t2v-plus",label:"通义万相2.1-Plus",description:"万相2.1专业版",icon:"/image/Group.svg",qualityLevels:["720P"]},{value:"wan2.2-t2v-plus",label:"通义万相2.2-Plus",description:"万相2.2专业版",icon:"/image/Group.svg",qualityLevels:["480P","1080P"]}],w=[{label:"海边日落",prompt:"夕阳西下，金色的余晖洒在平静的海面上，波浪轻拍着岸边，一艘小船缓缓驶过。"},{label:"城市夜景",prompt:"繁华的城市夜景，霓虹灯闪烁，车流如长龙般穿梭在街道上，高楼大厦灯火通明。"},{label:"森林漫步",prompt:"阳光透过茂密的树叶洒下斑驳的光影，一条小径蜿蜒在绿色的森林中，鸟儿在枝头歌唱。"},{label:"雨后彩虹",prompt:"雨后的天空中出现了一道绚烂的彩虹，阳光穿过云层，照亮了湿润的大地。"},{label:"雪山风光",prompt:"雄伟的雪山耸立在蓝天下，山峰被白雪覆盖，山下是绿色的草原和清澈的湖泊。"},{label:"花园盛开",prompt:"春天的花园里，各种花朵竞相开放，蝴蝶在花丛中翩翩起舞，微风轻拂过花瓣。"}],k=e=>[...w].sort(()=>.5-Math.random()).slice(0,e);function A(){let[e,a]=(0,s.useState)(""),[t,w]=(0,s.useState)("wanx2.1-t2v-turbo"),[A,C]=(0,s.useState)([]),[M,P]=(0,s.useState)("480P"),[z,q]=(0,s.useState)("16:9"),[S,L]=(0,s.useState)(5),[$,F]=(0,s.useState)(1),[E,_]=(0,s.useState)(!1),[D,T]=(0,s.useState)([{id:0,src:"/demo.mp4"}]),[H,G]=(0,s.useState)(null),[O,I]=(0,s.useState)(0),{formattedDuration:V,start:B,stop:J}=(0,f.g)();(0,s.useEffect)(()=>{C(k(4))},[]);let K=(0,s.useCallback)(()=>{let e=N.find(e=>e.value===t);return(null==e?void 0:e.qualityLevels)||Object.keys(j)},[t]),Q=(0,s.useCallback)(()=>(j[M]||[]).map(e=>e.ratio),[M]);(0,s.useEffect)(()=>{let e=K();e.length>0&&!e.includes(M)&&P(e[0])},[t,M,K]),(0,s.useEffect)(()=>{let e=Q();e.length>0&&!e.includes(z)&&q(e[0])},[M,z,Q]);let R=K(),U=Q(),W=async()=>{let a=(()=>{let a=e.trim();return a?a.length>2e3?"提示词长度不能超过2000个字符":$<1||$>4?"输出数量必须在1-4之间":null:"请输入提示词"})();if(a)return void G(a);_(!0),B(),G(null);try{let a=await (0,g.NM)({model:t,prompt:e.trim(),resolution:(()=>{var e;let a=j[M]||[],t=a.find(e=>e.ratio===z);return(null==t?void 0:t.value)||(null==(e=a[0])?void 0:e.value)||"1280*720"})(),outputCount:$,duration:S});a.success&&a.data?(T([{id:Date.now(),src:a.data.output.video_url}]),I(0)):G(a.error||"提交视频生成任务失败")}catch(e){G(e instanceof Error?e.message:"生成视频时发生未知错误")}finally{_(!1),J()}},X=async()=>{if(0!==D.length)try{await (0,y.rT)(D,O)}catch(e){console.error("下载失败:",e),G("下载失败，请重试")}};return(0,l.jsxs)("div",{className:"bg-[#0D0D12] min-h-screen text-white",children:[(0,l.jsx)(r.A,{}),(0,l.jsx)(i.A,{}),(0,l.jsx)("main",{className:"ml-20 pt-14",children:(0,l.jsxs)("div",{className:"flex h-[calc(100vh-56px)] p-4 gap-4",children:[(0,l.jsxs)("div",{className:"w-[380px] bg-[#24222D] p-4 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4",children:[(0,l.jsx)("h1",{className:"text-xl",children:"文本转视频AI"}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"模型"}),(0,l.jsx)(b.t,{options:N,value:t,onValueChange:w,variant:"dark",size:"lg",renderTrigger:e=>e?(0,l.jsxs)("div",{className:"flex items-center gap-3 py-1",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 flex items-center justify-center",children:(0,l.jsx)(m.default,{src:e.icon,alt:e.label,unoptimized:!0,width:24,height:24})}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("p",{className:"text-sm text-white",children:e.label}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:e.description})]})]}):null,renderItem:e=>(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-md bg-gray-700 flex items-center justify-center",children:(0,l.jsx)(m.default,{src:e.icon,alt:e.label,unoptimized:!0,width:24,height:24})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-white",children:e.label}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:e.description})]})]})}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"提示词"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(u.T,{value:e,onChange:e=>a(e.target.value),placeholder:"描述你想要生成的视频内容...",className:"h-32 bg-[#383842] !text-xs resize-none border-none focus-visible:ring-0"}),(0,l.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:[e.length,"/2000"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-2",children:[(0,l.jsx)("span",{children:"例子:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(e=>(0,l.jsx)(v.$,{onClick:()=>a(e.prompt),variant:"ghost",className:"h-auto p-0 text-xs text-gray-400 hover:text-[#FF3466] hover:bg-transparent",children:e.label},e.label))}),(0,l.jsx)(v.$,{onClick:()=>{C(k(4))},variant:"ghost",size:"icon",className:"ml-auto h-6 w-6 text-gray-400 hover:text-[#FF3466]",children:(0,l.jsx)(c.A,{className:"w-4 h-4"})})]}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"分辨率"}),(0,l.jsx)("div",{className:(0,x.cn)("flex gap-2"),children:R.map(e=>(0,l.jsx)(v.$,{variant:M===e?"default":"outline",onClick:()=>P(e),className:(0,x.cn)("flex-1",M===e?"bg-primary hover:bg-primary/90":"bg-[#383842] border-[#4a4a54] hover:bg-[#4a4a54] hover:text-white"),children:e},e))}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"长宽比"}),(0,l.jsx)("div",{className:"flex gap-2",children:U.map(e=>(0,l.jsxs)(v.$,{variant:"outline",onClick:()=>q(e),className:(0,x.cn)("flex-1","h-16 flex-col bg-[#383842] border-[#4a4a54] hover:bg-[#4a4a54] hover:text-white",z===e&&"border-primary"),children:[(0,l.jsx)("div",{className:"bg-primary",style:(e=>{let[a,t]=e.split(":").map(Number),l=Math.min(24/a,24/t);return{width:Math.max(a*l,8),height:Math.max(t*l,8)}})(e)}),(0,l.jsx)("span",{className:"text-xs",children:e})]},e))}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"视频长度"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsx)(v.$,{variant:5===S?"default":"outline",onClick:()=>L(5),className:5===S?"bg-primary hover:bg-primary/90":"bg-[#383842] border-[#4a4a54] hover:bg-[#4a4a54] hover:text-white",children:"5秒"}),(0,l.jsx)(v.$,{disabled:!0,variant:10===S?"default":"outline",onClick:()=>L(10),className:10===S?"bg-primary hover:bg-primary/90":"bg-[#383842] border-[#4a4a54] hover:bg-[#4a4a54] hover:text-white",children:"10秒"})]}),(0,l.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"输出视频数量"}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(e=>(0,l.jsx)(v.$,{variant:$===e?"default":"outline",onClick:()=>F(e),disabled:e>1,className:$===e?"bg-primary hover:bg-primary/90":"bg-[#383842] border-[#4a4a54] hover:bg-[#4a4a54] hover:text-white",children:e},e))}),(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{children:"所需额度:"}),(0,l.jsx)(n.A,{className:"w-4 h-4"})]}),(0,l.jsxs)("span",{className:"text-white",children:[20*$," 额度"]})]})]}),H&&(0,l.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start gap-2 mb-4",children:[(0,l.jsx)(d.A,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),(0,l.jsx)("div",{className:"text-sm text-red-400",children:H})]}),(0,l.jsx)("div",{className:"pt-4 border-t border-gray-700",children:(0,l.jsxs)(v.$,{onClick:W,disabled:0===e.length||E,className:"w-full h-12 bg-primary hover:bg-primary/90 text-lg",children:[(0,l.jsx)(o.A,{className:(0,x.cn)("w-5 h-5 mr-2",E&&"animate-spin")}),E?"生成中... ".concat(V):"生成视频"]})})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 bg-[#24222D] p-4",children:[(0,l.jsx)("div",{className:"flex justify-end mb-2",children:(0,l.jsxs)(v.$,{disabled:E,size:"sm",variant:"outline",onClick:X,className:(0,x.cn)("text-xs","bg-[#383842] border-[#4a4a54] text-white","hover:bg-[#FF3466] hover:border-[#FF3466] hover:text-white"),children:[(0,l.jsx)(h.A,{className:"w-4 h-4"}),"下载当前视频"]})}),(0,l.jsx)("div",{className:"flex-1 flex items-center justify-center min-h-0 overflow-hidden",children:(0,l.jsx)(p.s,{videos:D,className:"w-full h-full max-w-full max-h-full",onCurrentChange:I,autoPlay:!0,showThumbnails:!0})})]})]})})]})}},6174:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},6243:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7254:(e,a,t)=>{Promise.resolve().then(t.bind(t,5717))},8420:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},9026:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9321:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(4805).A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])}},e=>{e.O(0,[174,801,110,929,986,143,358],()=>e(e.s=7254)),_N_E=e.O()}]);